sap.ui.define([],function(){"use strict";return sap.ui.controller("audi.fi.ar.customerItems.debitorenposten1.ext.controller.customMain",{firstRun:true,cIdOPVariant:"id_1656512948995_561_table",cIdISTVariant:"id_1656512858638_460_table",onInitSmartFilterBarExtension:function(){var e=this.getView().byId("template::SmartFilterBar");var t=new Date;var a=new Date(t.getFullYear(),t.getMonth(),1);var r={CompanyCode:"0200",ident:"OP","$Parameter.p_stichtag":a};e.setFilterData(r);e.getControlByKey("ident").attachSelectionChange(this._onIdentChange)},_onIdentChange:function(e){var t=e.getSource().getValue();var a=e.getSource().getParent().getParent().getParent();var r=a.getParent().getParent().getParent().getParent().getParent().byId("table-variant");var n=a.getAllFilterItems();var i=0;var l=0;var s=0;var o=new Date;var u=new Date(o.getFullYear(),o.getMonth()-1,1);var g=new Date(o.getFullYear(),o.getMonth(),0);var d=a.getFilterData();if(!d.PostingDate||d.PostingDate===null||d.PostingDate===""){d.PostingDate={ranges:[{exclude:false,operation:"BT",keyField:"PostingDate",value1:u,value2:g}]};d.DocumentType={ranges:[{exclude:false,operation:"EQ",keyField:"DocumentType",value1:"BK"},{exclude:false,operation:"EQ",keyField:"DocumentType",value1:"BZ"},{exclude:false,operation:"EQ",keyField:"DocumentType",value1:"D4"},{exclude:false,operation:"EQ",keyField:"DocumentType",value1:"DT"}]}}for(var c=0;c<n.length;c++){var v=n[c];if(v.getProperty("name")==="$Parameter.p_stichtag"){i=c}else if(v.getProperty("name")==="PostingDate"){l=c}else if(v.getProperty("name")==="DocumentType"){s=c}}var f=n[i];var I=n[l];var D=n[s];if(t==="Ist"){f.setVisibleInFilterBar(false);D.setVisibleInFilterBar();I.setMandatory(true);if(a.getFilterData().PostingDate===undefined||a.getFilterData().PostingDate===""){a.setFilterData(d)}}else{f.setVisibleInFilterBar(true);f.setVisibleInAdvancedArea(true);I.setMandatory(false)}if(r.getCurrentVariantId()!==cIdOPVariant&&a.getFilterData().ident==="OP"){r.setCurrentVariantId(this.cIdOPVariant)}else if(r.getCurrentVariantId()!==cIdISTVariant&&a.getFilterData().ident==="IST"){r.setCurrentVariantId(this.cIdISTVariant)}},onBeforeRebindTableExtension:function(){var e=this.getView().byId("table-variant");if(this.firstRun===true){e.setCurrentVariantId(this.cIdOPVariant);this.firstRun=false}}})});